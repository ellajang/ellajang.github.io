---
date: '2023-08-10'
title: 'HTTP, 요청과 응답 구조'
categories: ['NETWORK']
summary: '사용자가 웹 브라우저를 통해 특정 웹페이지에 접속 요청을 하면, 해당 서버는 요청된 페이지의 정보와 필요한 리소스를 응답하게 됩니다. 그렇다면 응답과 요청이라는 건 어떤 것이고 어떻게 응답과 요청을 보내게 되는지 알아보겠습니다.'
thumbnail: './http.png'
---

> 사용자가 웹 브라우저를 통해 특정 웹페이지에 접속 요청을 하면, 해당 서버는 요청된 페이지의 정보와 필요한 리소스를 응답하게 됩니다. 그렇다면 응답과 요청이라는 건 어떤 것이고, 어떻게 응답과 요청을 보내게 되는지 알아보겠습니다.

### 1. HTTP란 무엇인가?

HTTP는 HyperText Transfer Protocol의 약자로, 웹에서 데이터를 전송하기 위한 프로토콜입니다. 여기서 '프로토콜'이란 데이터 통신을 위한 규약 또는 방식을 의미합니다.
<br/>
<br/>

> ##### HTTP의 주요 역할 및 특징

- 웹 클라이언트(보통 웹 브라우저)와 웹 서버 간의 데이터 통신을 중개합니다.
- 요청-응답 방식으로 동작합니다. 즉, 클라이언트가 요청을 보내면 서버가 그에 맞는 응답을 반환합니다.
- Stateless Protocol: 각 요청과 응답은 독립적이며 이전의 데이터를 저장하지 않습니다. 이러한 특징 때문에 웹에서 상태 정보를 유지하기 위한 추가 메커니즘(쿠키, 세션 등)이 필요하게 되었습니다.
- 기본 포트는 80번을 사용합니다.
  📍여기서 포트(port)는 컴퓨터 네트워크에서 특정 프로세스 혹은 서비스가 통신을 수행하기 위한 엔드포인트를 의미합니다. 각 특정 프로토콜마다 사용하는 기본 포트 번호가 있습니다.

 <br/>

> ##### HTTP vs HTTPS

 <br/>

&nbsp; **HTTP (HyperText Transfer Protocol)**

- 평문("plaintext" 암호화 되지 않는 원래의 텍스트 혹은 데이터)으로 데이터를 전송하기 때문에 중간에서 데이터를 가로채면 내용을 볼 수 있습니다.
- 보안 문제로 인해 민감한 정보(로그인 정보, 신용카드 번호 등)를 전송할 때 위험할 수 있습니다.

&nbsp; **HTTPS (HyperText Transfer Protocol Secure)**

- HTTP의 보안 버전입니다.
- SSL(Secure Sockets Layer) 또는 TLS(Transport Layer Security)라는 프로토콜을 사용하여 데이터를 암호화합니다.
- 데이터의 무결성 및 기밀성을 보장하며, 서버나 클라이언트의 신원을 인증할 수 있습니다.
- 암호화/복호화 과정 때문에 HTTP보다 약간의 추가 처리 시간이 필요할 수 있으나, 기술 발전으로 인해 그 차이는 점점 줄어들고 있습니다.
- 주로 은행, 온라인 쇼핑몰, 로그인이 필요한 서비스 등에서 사용됩니다.
- 기본 포트는 443번을 사용합니다.

간단히 말하면, HTTPS는 HTTP에 보안 기능이 추가된 버전으로, 데이터를 안전하게 전송하기 위해 설계된 것입니다.

### 2. 요청(Request)의 구성

요청(Request)은 클라이언트가 서버에 특정 리소스나 정보를 요청하는 과정에서 보내는 메시지입니다. 웹에서의 요청은 주로 HTTP 프로토콜을 통해 이루어지며, HTTP 요청은 다음과 같은 구성 요소로 이루어져 있습니다.
<br/>
<br/>

> ##### 메서드(Methods): GET, POST, PUT, DELETE

- **GET** : 서버에서 특정 리소스(예: HTML 파일, 이미지 등)를 가져오는 데 사용됩니다. GET 요청은 읽기 전용 작업이므로 데이터를 변경하지 않아야 합니다. 그래서 보통 웹 페이지를 열거나 검색 쿼리를 수행할 때 사용됩니다.

- **POST** : 서버에 새로운 리소스를 생성하거나 데이터를 전송하는 데 사용됩니다. 데이터를 요청 본문에 포함하여 전송하며, 복잡한 데이터 구조도 전송할 수 있습니다. POST 요청은 서버의 상태를 변경할 수 있으므로 주의해야 합니다. 보통 회원가입 폼 제출, 파일 업로드 등에 사용됩니다.

- **PUT** : 서버의 특정 리소스를 갱신하거나 새로운 리소스를 생성하는 데 사용됩니다. 전체 리소스를 전송하여 기존 리소스를 갱신하거나 새로운 리소스를 생성합니다. PUT 요청 역시 서버의 상태를 변경할 수 있으므로 주의가 필요합니다. 보통 사용자 프로필 정보 업데이트, 특정 데이터의 수정 등에 사용됩니다.

- **DELETE** : 서버의 특정 리소스를 삭제하는 데 사용됩니다. 삭제할 리소스의 URL을 지정합니다. DELETE 요청은 리소스를 영구히 삭제할 수 있으므로 매우 주의해야 합니다. 보통 계정 삭제, 게시글 삭제 등에 사용됩니다.

 <br/>

> ##### 헤더(Headers): User-Agent, Accept, Authorization

##### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: HTTP 헤더는 클라이언트와 서버 간의 요청과 응답에서 추가 정보를 전달하는 역할을 합니다. 헤더는 여러 키-값 쌍으로 구성되며, 각각은 특정 목적에 사용됩니다.

- **User-Agent** : 클라이언트(브라우저, 모바일 앱 등)의 종류와 버전 정보를 서버에게 알려줍니다. 서버는 이 정보를 통해 클라이언트의 종류와 버전에 맞는 최적화된 콘텐츠를 제공할 수 있습니다. 예를들어, "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36"방식으로 알려줍니다.

- **Accept** : 클라이언트가 받을 수 있는 미디어 타입(예: 텍스트, 이미지, 비디오 등)을 서버에게 알려줍니다. 서버는 이 정보를 통해 클라이언트가 처리할 수 있는 형식의 데이터를 응답으로 보냅니다. 예를들어, "Accept: text/html, application/xhtml+xml, application/xml;q=0.9, image/webp, /;q=0.8"로 알려줍니다.

- **Authorization** : 클라이언트가 서버의 보호된 리소스에 접근할 권한이 있는지 확인하는 데 사용됩니다. 로그인이나 특정 권한이 필요한 작업을 수행할 때 사용하며, 일반적으로 토큰이나 자격 증명을 포함합니다. 예를들어, "Authorization: Bearer YOUR_ACCESS_TOKEN"와 같이 사용할 수 있습니다.

 <br/>

> ##### 바디(Body)

##### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: 바디(Body) 부분은 HTTP 요청에서 추가 데이터를 서버에 전송하는 데 사용됩니다. 일반적으로 POST 요청에서만 바디를 사용한다고 생각할 수 있지만, 실제로는 POST뿐만 아니라 PUT, PATCH와 같은 다른 HTTP 메서드에서도 바디를 사용할 수 있습니다.

- POST: 서버에 새로운 리소스를 생성할 때 사용되며, 바디에 생성할 리소스의 데이터를 담아 전송합니다.
- PUT: 서버에 있는 특정 리소스를 갱신할 때 사용되며, 바디에 갱신할 데이터를 담아 전송합니다.
- PATCH: 리소스의 일부만을 변경하고자 할 때 사용되며, 바디에 변경할 데이터의 일부분을 담아 전송합니다.

##### 이와 반대로 GET, DELETE와 같은 메서드는 바디를 사용하지 않는 경우가 일반적입니다. GET은 정보를 조회하는 용도로, DELETE는 리소스를 삭제하는 용도로 사용되기 때문에 바디를 사용할 필요가 없을 수 있습니다. 하지만 특정 구현에서는 이러한 메서드에서도 바디를 사용하는 경우가 있을 수 있으므로, 완벽하게 제외한다고 단정할 수는 없습니다.

### 3. 응답(Response)의 구성

응답(Response)은 클라이언트의 요청(Request)에 대한 서버의 응답으로, 요청에 대한 처리 결과와 필요한 리소스나 정보를 포함하여 응답합니다. HTTP 응답은 다음과 같은 구성 요소로 이루어져 있습니다.

> ##### 상태 코드(Status Code)와 상태 메시지(Status Message)

- **200 OK** : 요청이 성공적으로 처리되었음을 나타냅니다. 서버는 클라이언트가 요청한 리소스를 응답 바디에 포함하여 보냅니다.

- **404 Not Found** : 요청한 리소스가 서버에 없음을 나타냅니다. 클라이언트가 잘못된 URL을 요청한 경우에 발생할 수 있습니다.

- **500 Internal Server Error** : 서버 내부 오류로 인해 요청을 처리할 수 없음을 나타냅니다. 서버 개발자가 자세한 오류 정보를 조사해야 할 상황입니다.

=> 이외에도 다양한 코드와 상태 메시지가 존재하나, 흔히 보이는 코드와 메시지를 예시로 들었습니다.

<br/>

> ##### 헤더(Headers): Content-Type, Content-Length, Cache-Control

- **Content-Type** : 응답 바디의 미디어 타입을 알려줍니다. 예를들어, HTML 문서의 경우 "Content-Type: text/html"로, JSON 데이터의 경우 "Content-Type: application/json"으로 알려줍니다.

- **Content-Length** : 응답 바디의 길이(바이트 단위)를 알려줍니다. 클라이언트는 이 정보를 사용하여 전체 응답을 얼마나 받았는지 확인할 수 있습니다.

- **Cache-Control** : 클라이언트와 중간 프록시가 응답을 어떻게 캐싱해야 하는지 지시합니다. 예를 들어, "Cache-Control: no-store"는 캐싱을 하지 말라는 지시입니다.

<br/>

> ##### 바디(Body)

##### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: 응답 바디는 서버가 클라이언트의 요청에 대한 실제 결과를 담아 전송하는 부분입니다. 바디에는 HTML 문서, 이미지 파일, JSON 데이터 등 다양한 형식의 리소스가 담길 수 있습니다.

- **HTML 문서 응답** : 웹 페이지의 내용을 담은 HTML 문서를 응답으로 보낼 수 있으며, 클라이언트는 이를 렌더링하여 사용자에게 보여줍니다.

- **JSON 데이터 응답** : API 호출의 결과를 JSON 형식으로 응답으로 보낼 수 있으며, 클라이언트는 이를 해석하여 필요한 작업을 수행합니다.

### 4. 요청을 통해 받은 응답(Response)은 어떻게 확인할까요?

#### &nbsp; ✏️ 응답확인 방법

- 웹 브라우저의 개발자 도구 : 대부분의 웹 브라우저(예: Chrome, Firefox, Safari 등)에는 웹 페이지의 요청과 응답을 확인할 수 있는 개발자 도구가 내장되어 있습니다. 개발자 도구를 열고 '네트워크(Network)' 탭을 선택하면 현재 페이지와 관련된 모든 HTTP 요청과 응답을 볼 수 있습니다.

- 프록시 도구 : Fiddler, Charles와 같은 프록시 도구를 사용하면, 클라이언트와 서버 간의 모든 HTTP 통신을 캡처하고 분석할 수 있습니다. 이러한 도구는 웹 브라우저뿐만 아니라 모바일 앱과 같은 다른 클라이언트에서도 통신을 확인하는 데 유용합니다.

- 프로그래밍 언어 라이브러리 : 개발 중인 클라이언트 애플리케이션에서 특정 HTTP 요청과 응답을 확인하고 싶다면, 해당 프로그래밍 언어에서 제공하는 라이브러리나 패키지를 사용하여 디버깅 정보를 출력할 수도 있습니다.

### 5. 결론

HTTP와 데이터의 보안을 강화하기 위해 나온 HTTPS는 웹의 중심적인 통신 프로토콜로, 웹 브라우저와 서버 간의 데이터 교환의 통로라고 할 수 있습니다. 웹 브라우저와 서버간 데이터 교환은 요청과 응답의 방식으로 이루어지는데, 요청과 응답은 웹 커뮤니케이션의 핵심 요소로, 클라이언트와 서버 간의 상호작용을 명확하게 정의합니다. 이러한 과정은 메서드, 헤더, 바디와 같은 구성 요소를 통해 세밀하게 제어되며, 이를 통해 데이터의 교환, 리소스의 관리, 사용자 경험의 최적화가 가능해집니다.
