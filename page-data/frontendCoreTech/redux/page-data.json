{"componentChunkName":"component---src-templates-post-template-tsx","path":"/frontendCoreTech/redux/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>자바스크립트 상태관리 라이브러리인 Redux는 컴포넌트 간에 데이터를 효율적으로 주고 받기 위해 사용됩니다. Redux가 실질적으로 어떻게 사용되는지 알아보겠습니다.</p>\n</blockquote>\n<h3>1. REDUX란 무엇인가?</h3>\n<p>앞서 잠깐 언급 했듯이 Redux는 자바스크립트 애플리케이션에서 상태를 효율적으로 관리할 수 있는 전역 상태 관리 라이브러리입니다.<br/>\r\n특히, 컴포넌트 간에 데이터를 주고받기 위해 발생하는 props drilling 문제를 해결할 수 있습니다.<br/>\r\nprops drilling은 부모 컴포넌트에서 자식 컴포넌트까지 여러 단계에 걸쳐 props를 전달해야 할 때 발생하는 문제로, 이를 Redux를 통해 전역 상태로 관리하여 해결할 수 있습니다.<br/>\r\nRedux를 상요하면 모든 컴포넌트가 Store라는 전역 상태에 접근할 수 있기 때문에 특정 컴포넌트에서 데이터를 전달 할 필요 없이 상태를 중앙에서 관리하기 때문에 필요한 곳에 가져다 쓸 수 있습니다.<br/><br/>\r\n📍 여기서 데이터와 상태는 비슷한 의미로 쓰입니다. 상태관리 즉 데이터관리라는 의미로 봐도 무방합니다.<br/>\r\n<br/></p>\n<blockquote>\n<h5>Redux의 주요 개념</h5>\n</blockquote>\n<ul>\n<li>Store : 프로그램의 모든 상태를 저장하는 공간입니다.</li>\n<li>Action: 상태에 변화를 일으킬 수 있는 유일한 방법으로, 액션은 타입과 페이로드를 가집니다.<br/>\r\n📍 여기서 타입과 페이로드의 의미는 액션이 상태를 업데이트할 때 전달하는 추가적인 데이터를 의미합니다. 예를들어 상태를 변경하기 위해 필요한 값들이나 서버로부터 받아온 응답 데이터가 페이로드에 해당됩니다.\r\nex)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> action <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'UPDATE_USER'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">payload</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'John'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서 type은 액션의 종류를 나타내고, payload는 상태를 업데이트하기 위해 필요한 데이터(name과 age)를 가지고 있다고 볼 수 있습니다.</p>\n<ul>\n<li>Reducer: 액션을 받아 상태를 실제로 변경하는 함수입니다. store에 있는 상태를 어떻게 바꿀지 결정합니다.</li>\n<li>Dispatch: 액션을 store에 전달하는 함수입니다. 사용자가 액션을 발생시키면 Dispatch를 통해 store에 전달됩니다.</li>\n<li>Thunk: 비동기 작업을 처리하기 위한 도구입니다. 서버에서 데이터를 받아오는 작업(API 호출 등 비동기 작업)처럼 시간이 걸리는 작업을 처리할 때 사용됩니다.</li>\n</ul>\n <br/>\n<h3>2. REDUX 사용방법</h3>\n<blockquote>\n<h4>a. API 요청 정의하기</h4>\n</blockquote>\n  <br/>\r\n 앱이 서버와 통신해야 할 때 API 요청을 작성합니다. 예를 들어, 특정 데이터를 서버에서 가져오는 API 요청은 아래와 같이 작성할 수 있습니다.\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getDataFromServer</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/getData'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 서버에 데이터를 요청하는 코드</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<h4>b. Redux Thunk 액션 생성하기</h4>\n</blockquote>\n  <br/>\r\n 비동기 작업(서버 요청 등)을 처리하기 위해 Thunk를 사용합니다. 이 액션은 데이터를 서버로부터 받아오고, 그 데이터를 상태에 저장합니다.\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> sendData <span class=\"token operator\">=</span> <span class=\"token function\">createAsyncThunk</span><span class=\"token punctuation\">(</span>\r\n  <span class=\"token string\">'app/sendData'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 액션 이름</span>\r\n  <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> thunkApi</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">const</span> postData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">function</span><span class=\"token operator\">:</span> <span class=\"token string\">'SEND_DATA'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 요청의 목적을 설명하는 데이터</span>\r\n        <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> data<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 서버로 보낼 실제 데이터</span>\r\n      <span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">sendDataToServer</span><span class=\"token punctuation\">(</span>postData<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 서버로 데이터 전송</span>\r\n      <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data <span class=\"token comment\">// 요청이 성공하면 서버에서 받은 데이터를 반환</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">return</span> thunkApi<span class=\"token punctuation\">.</span><span class=\"token function\">rejectWithValue</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 요청이 실패하면 에러 반환</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>📍 여기서는 서버로 데이터를 전송하기 위해 데이터를 구성하는 방식을 보여줍니다. data는 서버에 보내는 실제 데이터이고, postData는 이 데이터를 포함하는 객체로 서버로 전달됩니다.\r\n<br/><br/></p>\n<blockquote>\n<h4>c. Redux Slice 생성하기</h4>\n</blockquote>\n  <br/>\r\n   Slice는 상태와 리듀서를 한 번에 정의할 수 있는 기능입니다. Slice는 비동기 액션을 처리하며 상태를 관리합니다.\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">builder<span class=\"token punctuation\">.</span><span class=\"token function\">addCase</span><span class=\"token punctuation\">(</span>sendData<span class=\"token punctuation\">.</span>fulfilled<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> payload <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  state<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">// 요청이 성공하면 로딩을 false로 설정</span>\r\n  state<span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> payload <span class=\"token comment\">// 받아온 데이터를 상태에 저장</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\nbuilder<span class=\"token punctuation\">.</span><span class=\"token function\">addCase</span><span class=\"token punctuation\">(</span>sendData<span class=\"token punctuation\">.</span>pending<span class=\"token punctuation\">,</span> <span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  state<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// 요청 중일 때 로딩 상태</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\nbuilder<span class=\"token punctuation\">.</span><span class=\"token function\">addCase</span><span class=\"token punctuation\">(</span>sendData<span class=\"token punctuation\">.</span>rejected<span class=\"token punctuation\">,</span> <span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  state<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">// 에러가 발생하면 로딩 중지</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>📍 이 예시 코드는 서버 요청의 진행 상태에 따라 pending, fulfilled, rejected 상태에서 로딩 상태를 관리하고, 데이터를 업데이트하거나 에러를 저장하는 방법을 보여주며 어떻게 데이터를 처리하는지 보여줍니다.\r\n<br/>\r\n<br/></p>\n<blockquote>\n<h4>d. 컴포넌트에서 Redux 사용하기</h4>\n</blockquote>\n  <br/>\r\n이제 Redux로 관리한 상태를 컴포넌트에서 사용해보겠습니다. useDispatch와 useSelector 훅을 사용하여 액션을 디스패치하고, 상태를 읽어올 수 있습니다.\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> dispatch <span class=\"token operator\">=</span> <span class=\"token function\">useDispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 액션을 호출하는 함수</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useSelector</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>dataReducer<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 상태를 가져오는 함수</span>\r\n\r\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">sendData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">'Hello, world!'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 데이터를 전송하는 액션 호출</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>dispatch<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>loading<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Loading<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span> <span class=\"token comment\">// 로딩 중일 때 표시</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Error<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>error<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span> <span class=\"token comment\">// 에러가 발생했을 때 표시</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>서버 응답<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span> <span class=\"token comment\">// 받아온 데이터를 화면에 출력</span>\r\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>📍 이 예시에서는 sendData 액션을 통해 서버로 데이터를 전송하고, 그 데이터를 받아와 화면에 표시하는 방법을 보여줍니다. 상태에 따라 로딩 중, 에러 발생 시, 성공적으로 데이터를 받아왔을 때 각각 다른 화면이 표시됩니다.</p>\n<h3>3. REDUX의 장점</h3>\n<ul>\n<li>\n<p>예측 가능한 상태 관리: Redux는 상태를 한 곳에서 관리하여 데이터 흐름을 예측 가능하게 만듭니다. 상태 변경이 어디서, 왜, 어떻게 발생하는지 쉽게 추적할 수 있습니다.</p>\n</li>\n<li>\n<p>중앙 집중식 관리: 모든 상태를 하나의 Store에서 관리함으로써, 여러 컴포넌트가 상태를 공유할 때 발생할 수 있는 데이터 흐름의 복잡성을 줄입니다.</p>\n</li>\n<li>\n<p>확장성: 비동기 작업 처리나 추가 미들웨어를 통해 복잡한 애플리케이션도 확장 가능하게 만들 수 있습니다.</p>\n</li>\n</ul>\n<h3>4. 마무리</h3>\n<p>Redux는 전역 상태를 관리하는 데 매우 유용합니다. 특히, 복잡한 프로그램에서 여러 컴포넌트 간의 상태 공유가 필요할 때, 이를 효과적으로 관리할 수 있는 기능을 제공합니다.</p>","frontmatter":{"title":"Redux로 상태 관리하기","summary":"상태를 효율적으로 관리할 수 있는 전역 상태 관리 라이브러리인 Redux에 대해서 알아보겠습니다.","date":"2024.03.10.","categories":["All"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABI0lEQVR42q2Ty2qEMBSGfVZXCiKzFTdufBcfot3UhaCG2sJgRQUrUxE7Ms1QUKaav5CpUjPTy8JASM5P8uXcImHlIYkCY+e5CpB9kZhAHMdxobFfXlwAx4Hh0HT4OI249Jxx8AQX7QVwsl+yI9L7Fs/x23yg6zrkeY6+72etbVsMw/CHhwwgNxW2XoOHuxrv9AwIwxCKosBxHL4nhMCyLPi+jyiK4Lou6rqeo5Am73Yp5aBddsSjW+MpbLjueR42mw00TYOqqjBNE7quwzAM2LYNWZYRBMGca+l7uAnZg9xWPOxie+A6pRRVVSFNU2RZhqIokCQJt+M4RlmWPAWzh4uCvHY49QPovufrf6r6Yw7FO2KbTBW9Ni+qLDb1ao29xtf7BM9vmWWX0CuiAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/8ba63d552bf9fba45c3c172f9bcb59ac/2c1a9/redux.png","srcSet":"/static/8ba63d552bf9fba45c3c172f9bcb59ac/b6929/redux.png 125w,\n/static/8ba63d552bf9fba45c3c172f9bcb59ac/7c21b/redux.png 250w,\n/static/8ba63d552bf9fba45c3c172f9bcb59ac/2c1a9/redux.png 500w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[{"srcSet":"/static/8ba63d552bf9fba45c3c172f9bcb59ac/f97c8/redux.webp 125w,\n/static/8ba63d552bf9fba45c3c172f9bcb59ac/40603/redux.webp 250w,\n/static/8ba63d552bf9fba45c3c172f9bcb59ac/7a96c/redux.webp 500w","type":"image/webp","sizes":"(min-width: 500px) 500px, 100vw"}]},"width":500,"height":300}},"publicURL":"/static/8ba63d552bf9fba45c3c172f9bcb59ac/redux.png"}}}}]}},"pageContext":{"slug":"/frontendCoreTech/redux/"}},"staticQueryHashes":[],"slicesMap":{}}